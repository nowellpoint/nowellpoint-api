<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>nowellpoint-api - 1.0-SNAPSHOT</title>
    <style>
        h1,
        h2,
        h3,
        h4,
        h5,
        h6 {
            margin-bottom: 0.5rem;
            font-weight: 400;
            line-height: 1.5;
        }

        h1 {
            font-size: 2.5rem;
        }

        h2 {
            font-size: 2rem
        }

        h3 {
            font-size: 1.75rem
        }

        h4 {
            font-size: 1.5rem
        }

        h5 {
            font-size: 1.25rem
        }

        h6 {
            font-size: 1rem
        }

        .lead {
            font-weight: 300;
            font-size: 2rem;
        }

        .banner {
            font-size: 2.7rem;
            margin: 0;
            padding: 2rem 1rem;
            background-color: #00A1E2;
            color: white;
        }

        body {
            margin: 0;
            font-family: -apple-system, system-ui, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
        }

        code {
            font-family: SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
            font-size: 87.5%;
            color: #e83e8c;
            word-break: break-word;
        }

        .left-column {
            padding: .75rem;
            max-width: 75%;
            min-width: 55%;
        }

        .right-column {
            padding: .75rem;
            max-width: 25%;
        }

        .container {
            display: flex;
            width: 100%;
        }

        li {
            margin: 0.75rem;
        }

        .right-section {
            margin-left: 1rem;
            padding-left: 0.5rem;
        }

        .right-section h3 {
            padding-top: 0;
            font-weight: 200;
        }

        .right-section ul {
            border-left: 0.3rem solid #00A1E2;
            list-style-type: none;
            padding-left: 0;
        }
    </style>

    <!-- Bootstrap theme -->
    <link href="/css/toolkit-inverse.min.css" rel="stylesheet">

    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue-i18n/dist/vue-i18n.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

</head>

<body>
    <div class="banner lead">
        Your new Cloud-Native application is ready!
    </div>
    <div id="app">
        <div class="container-fluid mt-2 pt-3 pr-3 pl-3 mb-3">
            <div class="dashhead">
                <div class="dashhead-titles">
                    <h6 class="dashhead-subtitle">Organization</h6>
                    <h3 class="dashhead-title">{{ organization.name }}</h3>
                </div>
                <div class="dashhead-toolbar">
                    <div class="dashhead-toolbar-item">
                        <button type="button" id="refresh" name="refresh" class="btn btn-outline-primary"
                            v-on:click="refresh">
                            <i class="fa fa-sync"></i>Refresh
                        </button>
                    </div>
                </div>
            </div>
        </div>
        <div class="container pb-3">
            
                <div class="card border-secondary bg-transparent w-100">
                    <div class="row no-gutters">
                        <div class="col-md-4">
                            &nbsp;
                        </div>
                        <div class="col-md-8">
                            <div class="card-body">
                                <h5 class="card-title">Subscription</h5>
                                <dl class="dl-vertical">
                                    <dt>Created On</dt>
                                    <dd>{{ organization.createdOn }}&nbsp;</dd>
                                    <dt>Type</dt>
                                    <dd>{{ organization.organizationType }}&nbsp;</dd>
                                    <dt>Street</dt>
                                    <dd>{{ organization.address.street }}&nbsp;</dd>
                                    <dt>City</dt>
                                    <dd>{{ organization.address.city }}&nbsp;</dd>
                                    <dt>State</dt>
                                    <dd>{{ organization.address.state }}&nbsp;</dd>
                                    <dt>Postal Code</dt>
                                    <dd>{{ organization.address.postalCode }}&nbsp;</dd>
                                    <dt>Country</dt>
                                    <dd>{{ organization.address.country }}&nbsp;</dd>
                                </dl>
                            </div>
                        </div>
                    </div>
                </div>
        
        </div>
        <br>
        <div class="hr-divider">
            <h3 class="hr-divider-content hr-divider-heading">
              Connections
            </h3>
          </div>
        <br>
        <div class="container">
            <div class="card-deck">
                <div class="card border-dark bg-transparent" v-for="(connection) in organization.connections">
                    <div class="card-body">
                        <h5 class="card-title">{{ connection.instanceName }}</h5>
                        <dl class="dl-horizontal">
                            <dt>Auth Endpoint</dt>
                            <dd>{{ connection.authEndpoint }}&nbsp;</dd>
                            <dt>Connected As</dt>
                            <dd>{{ connection.connectedAs }}&nbsp;</dd>
                            <dt>Connected On</dt>
                            <dd>{{ connection.connectedOn }}&nbsp;</dd>
                            <dt>Instance Endpoint</dt>
                            <dd>{{ connection.instance }}&nbsp;</dd>
                            <dt>Status</dt>
                            <dd>
                                <p v-bind:class="{ 'text-success': connection.status == 'CONNECTED' }">
                                    {{ connection.status }}&nbsp;</p>
                            </dd>
                        </dl>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>

        new Vue({
            el: '#app',
            methods: {
                refresh: function (event) {
                    axios
                        .get('http://localhost:8080/services/organizations/00DR0000001vySjMAI')
                        .then(response => (this.organization = response.data))
                }
            },
            data() {
                return {
                    organization: {
                        address: {},
                        connections: []
                    }
                }
            },
            mounted() {
                this.refresh();
            }
        })
    </script>
</body>

</html>